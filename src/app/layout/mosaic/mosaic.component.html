<div *ngIf="isLoading"> loading .... </div>
<div *ngIf="!isLoading">

	<div class="configuration-container ">
		{{'Show Instruments'|translate}}
		<mat-slide-toggle id="showInstrument" [checked]="false" (change)="onDisplayInstrument( $event )">
		</mat-slide-toggle>
	</div>
	<div *ngIf="worker">
		<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

			<!--- Note that these columns can be defined in any order.
					  The actual rendered columns are set as a property on the row definition" -->

			<!-- Position Column -->
			<ng-container matColumnDef="heading">
				<th mat-header-cell *matHeaderCellDef> {{'Geo Heading'|translate}}</th>
				<td mat-cell *matCellDef="let element"> {{element.heading}} </td>
			</ng-container>

			<!-- Name Column -->
			<ng-container matColumnDef="speed">
				<th mat-header-cell *matHeaderCellDef> {{'Ground Speed (knts)'|translate}} </th>
				<td mat-cell *matCellDef="let element"> {{element.speed}} </td>
			</ng-container>

			<ng-container matColumnDef="time">
				<th mat-header-cell *matHeaderCellDef>{{'GPS Time'|translate}} </th>
				<td mat-cell *matCellDef="let element"> {{element.time}} </td>
			</ng-container>
			<ng-container matColumnDef="blo">
				<th mat-header-cell *matHeaderCellDef> {{'Longitude'|translate}} </th>
				<td mat-cell *matCellDef="let element"> {{element.blo}} </td>
			</ng-container>
			<ng-container matColumnDef="bla">
				<th mat-header-cell *matHeaderCellDef>{{'Latitude'|translate}} </th>
				<td mat-cell *matCellDef="let element"> {{element.bla}} </td>
			</ng-container>
			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
		</table>
	</div>
	<mat-tab-group>

		<mat-tab label="Mosaic">
			<mat-error *ngIf="errorMsg">{{errorMsg}}</mat-error>
			<div>
				<div *ngIf="mosaic?.length < 5">
				<mat-grid-list cols="2" rowHeight="2:1" >
					<div *ngFor="let cam of mosaic">
						<mat-grid-tile >
							<img class="cameraMosaic" [lazyLoad]="getPreviewUrl(cam)"
								[errorImage]='"assets/images/white-noise.jpg"'
								[defaultImage]='"assets/images/mire.jpg"'>
						</mat-grid-tile>
					</div>
				</mat-grid-list>
				</div>
				<div *ngIf="mosaic?.length >= 5">
					<mat-grid-list cols="3" rowHeight="2:1" >
						<div *ngFor="let cam of mosaic">
							<mat-grid-tile >
								<img class="cameraMosaic" [lazyLoad]="getPreviewUrl(cam)"
									[errorImage]='"assets/images/white-noise.jpg"'
									[defaultImage]='"assets/images/mire.jpg"'>
							</mat-grid-tile>
						</div>
					</mat-grid-list>
					</div>
			</div>
		</mat-tab>
		<mat-tab label="Cameras">
			<mat-tab-group>
				<div *ngFor="let cam of mosaic">
					<mat-tab label="{{cam.name}}">

						<img class="camera" [lazyLoad]="getPreviewUrl(cam)"
							[errorImage]='"assets/images/white-noise.jpg"' [defaultImage]='"assets/images/mire.jpg"'>
					</mat-tab>
				</div>
			</mat-tab-group>
		</mat-tab>
	</mat-tab-group>
</div>