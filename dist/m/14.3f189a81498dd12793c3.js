(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{PZj2:function(e,t,n){"use strict";n.r(t),n.d(t,"MosaicModule",(function(){return it}));var a=n("Valr"),o=n("DUip"),r=n("ea4N"),i=n("iPg2"),c=n("TYT/"),s=n("cUzu"),u=function(){function e(e){this.http=e,this.url="/recorder/mics"}return e.prototype.getMicrophones=function(){var e=this,t=this;return new Promise((function(n,a){t.http.get(e.url).subscribe((function(e){var t=[];return e.forEach((function(e){e.enabled&&t.push(e)})),n(t)}))}))},e.prototype.showMicrophone=function(e){var t=localStorage.getItem(e);return!t||"true"===t},e.\u0275fac=function(t){return new(t||e)(c.fc(s.a))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac}),e}(),l=n("QJY3"),d=n("Wjhp"),b=n("o8Qb"),m=n("IzAD"),g=n("sNR5"),f=n("mWkv"),h=n("aBAV"),p=n("ETwC"),v=n("K9Ia"),w=n("6blF"),S=n("F/XL"),D=n("S5bw"),C=n("GDxn"),y=(n("G5J1"),n("VnD/")),W=n("xMyE"),I=n("t9fZ"),M=n("psW0"),X=n("67Y/"),O=n("9Z1F"),L=n("15JJ");function N(e,t){e.className=e.className.replace(t,"")}function k(e,t){e.className.includes(t)||(e.className+=" "+t)}function j(){return"undefined"!=typeof window?window.navigator:void 0}function P(e){return Boolean(e.parentElement&&"picture"===e.parentElement.nodeName.toLowerCase())}function R(e){return"img"===e.nodeName.toLowerCase()}function x(e,t,n){return R(e)?n&&"srcset"in e?e.srcset=t:e.src=t:e.style.backgroundImage="url('"+t+"')",e}function z(e){return function(t){for(var n=t.parentElement.getElementsByTagName("source"),a=0;a<n.length;a++){var o=n[a].getAttribute(e);o&&("srcset"in n[a]?n[a].srcset=o:n[a].src=o)}}}n("mrSG"),n("FFOo"),n("T1DM"),n("S1nX"),n("p0Sj");var A=z("defaultImage"),E=z("lazyLoad"),F=z("errorImage");function T(e){return function(t,n,a){R(t)&&P(t)&&e(t),n&&x(t,n,a)}}var B=T(A),V=T(E),U=T(F),$={finally:function(e){var t=e.element;k(t,"ng-lazyloaded"),N(t,"ng-lazyloading")},loadImage:function(e){var t,n=e.element,a=e.useSrcset,o=e.imagePath,r=e.decode;if(R(n)&&P(n)){var i=n.parentNode.cloneNode(!0);t=i.getElementsByTagName("img")[0],E(t),x(t,o,a)}else t=new Image,R(n)&&n.sizes&&(t.sizes=n.sizes),a&&"srcset"in t?t.srcset=o:t.src=o;return r&&t.decode?t.decode().then((function(){return o})):new Promise((function(e,n){t.onload=function(){return e(o)},t.onerror=function(){return n(null)}}))},setErrorImage:function(e){var t=e.element;U(t,e.errorImagePath,e.useSrcset),k(t,"ng-failed-lazyloaded")},setLoadedImage:function(e){V(e.element,e.imagePath,e.useSrcset)},setup:function(e){var t=e.element;B(t,e.defaultImagePath,e.useSrcset),k(t,"ng-lazyloading"),function(e,t){return e.className&&e.className.includes("ng-lazyloaded")}(t)&&N(t,"ng-lazyloaded")},isBot:function(e){return!(!e||!e.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(e.userAgent)}},_=new WeakMap,q=new v.a;function J(e){e.forEach((function(e){return q.next(e)}))}var H={},Y=function(e){var t=e.scrollContainer||H,n={root:e.scrollContainer||null};e.offset&&(n.rootMargin=e.offset+"px");var a=_.get(t);return a||(a=new IntersectionObserver(J,n),_.set(t,a)),a.observe(e.element),w.a.create((function(t){var n=q.pipe(Object(y.a)((function(t){return t.target===e.element}))).subscribe(t);return function(){n.unsubscribe(),a.unobserve(e.element)}}))},G=Object.assign({},$,{isVisible:function(e){return e.event.isIntersecting},getObservable:function(e,t){return void 0===t&&(t=Y),e.customObservable?e.customObservable:t(e)}}),Z=Object.assign({},$,{isVisible:function(){return!0},getObservable:function(){return Object(S.a)("load")},loadImage:function(e){return[e.imagePath]}}),Q=function(){function e(e,t,n,a){this.onStateChange=new c.o,this.onLoad=new c.o,this.elementRef=e,this.ngZone=t,this.propertyChanges$=new D.a,this.platformId=n,this.hooks=function(e,t){var n=G,a=t&&t.isBot?t.isBot:n.isBot;if(a(j(),e))return Object.assign(Z,{isBot:a});if(!t)return n;var o={};return Object.assign(o,t.preset?t.preset:n),Object.keys(t).filter((function(e){return"preset"!==e})).forEach((function(e){o[e]=t[e]})),o}(n,a)}return e.prototype.ngOnChanges=function(){!0!==this.debug||this.debugSubscription||(this.debugSubscription=this.onStateChange.subscribe((function(e){return console.log(e)}))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange})},e.prototype.ngAfterContentInit=function(){var e=this;if(Object(a.C)(this.platformId)&&!this.hooks.isBot(j(),this.platformId))return null;this.ngZone.runOutsideAngular((function(){e.loadSubscription=e.propertyChanges$.pipe(Object(W.a)((function(e){return e.onStateChange.emit({reason:"setup"})})),Object(W.a)((function(t){return e.hooks.setup(t)})),Object(L.a)((function(t){return t.imagePath?e.hooks.getObservable(t).pipe(function(e,t){return function(n){return n.pipe(Object(W.a)((function(e){return t.onStateChange.emit({reason:"observer-emit",data:e})})),Object(y.a)((function(n){return e.isVisible({element:t.element,event:n,offset:t.offset,scrollContainer:t.scrollContainer})})),Object(I.a)(1),Object(W.a)((function(){return t.onStateChange.emit({reason:"start-loading"})})),Object(M.a)((function(){return e.loadImage(t)})),Object(W.a)((function(){return t.onStateChange.emit({reason:"mount-image"})})),Object(W.a)((function(n){return e.setLoadedImage({element:t.element,imagePath:n,useSrcset:t.useSrcset})})),Object(W.a)((function(){return t.onStateChange.emit({reason:"loading-succeeded"})})),Object(X.a)((function(){return!0})),Object(O.a)((function(n){return t.onStateChange.emit({reason:"loading-failed",data:n}),e.setErrorImage(t),Object(S.a)(!1)})),Object(W.a)((function(){t.onStateChange.emit({reason:"finally"}),e.finally(t)})))}}(e.hooks,t)):Object(C.b)()}))).subscribe((function(t){return e.onLoad.emit(t)}))}))},e.prototype.ngOnDestroy=function(){var e,t;null===(e=this.loadSubscription)||void 0===e||e.unsubscribe(),null===(t=this.debugSubscription)||void 0===t||t.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(c.Rb(c.l),c.Rb(c.A),c.Rb(c.C),c.Rb("options",8))},e.\u0275dir=c.Mb({type:e,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange",onLoad:"onLoad"},features:[c.Bb]}),e}(),K=function(){function e(){}var t;return t=e,e.forRoot=function(e){return{ngModule:t,providers:[{provide:"options",useValue:e}]}},e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)}}),e}(),ee=n("MnXN"),te=n("eHTH");function ne(e,t){1&e&&(c.Xb(0,"div"),c.Nc(1," loading .... "),c.Wb())}function ae(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc(" ",c.pc(2,1,"Geo Heading"),""))}function oe(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.heading," ")}}function re(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc(" ",c.pc(2,1,"Ground Speed (knts)")," "))}function ie(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.speed," ")}}function ce(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc(" ",c.pc(2,1,"TWS")," "))}function se(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.tws," ")}}function ue(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc("",c.pc(2,1,"TWD")," "))}function le(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.twd," ")}}function de(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc("",c.pc(2,1,"GPS Time")," "))}function be(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.time," ")}}function me(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc(" ",c.pc(2,1,"Longitude")," "))}function ge(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.blo," ")}}function fe(e,t){1&e&&(c.Xb(0,"th",30),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc("",c.pc(2,1,"Latitude")," "))}function he(e,t){if(1&e&&(c.Xb(0,"td",31),c.Nc(1),c.Wb()),2&e){var n=t.$implicit;c.Db(1),c.Pc(" ",n.bla," ")}}function pe(e,t){1&e&&c.Sb(0,"tr",32)}function ve(e,t){1&e&&c.Sb(0,"tr",33)}function we(e,t){if(1&e&&(c.Xb(0,"div"),c.Xb(1,"table",18),c.Vb(2,19),c.Lc(3,ae,3,3,"th",20),c.Lc(4,oe,2,1,"td",21),c.Ub(),c.Vb(5,22),c.Lc(6,re,3,3,"th",20),c.Lc(7,ie,2,1,"td",21),c.Ub(),c.Vb(8,23),c.Lc(9,ce,3,3,"th",20),c.Lc(10,se,2,1,"td",21),c.Ub(),c.Vb(11,24),c.Lc(12,ue,3,3,"th",20),c.Lc(13,le,2,1,"td",21),c.Ub(),c.Vb(14,25),c.Lc(15,de,3,3,"th",20),c.Lc(16,be,2,1,"td",21),c.Ub(),c.Vb(17,26),c.Lc(18,me,3,3,"th",20),c.Lc(19,ge,2,1,"td",21),c.Ub(),c.Vb(20,27),c.Lc(21,fe,3,3,"th",20),c.Lc(22,he,2,1,"td",21),c.Ub(),c.Lc(23,pe,1,0,"tr",28),c.Lc(24,ve,1,0,"tr",29),c.Wb(),c.Wb()),2&e){var n=c.nc(2);c.Db(1),c.uc("dataSource",n.dataSource),c.Db(22),c.uc("matHeaderRowDef",n.displayedColumns),c.Db(1),c.uc("matRowDefColumns",n.displayedColumns)}}function Se(e,t){if(1&e&&(c.Xb(0,"div"),c.Xb(1,"mat-tab",34),c.Sb(2,"img",35),c.Wb(),c.Wb()),2&e){var n=t.$implicit,a=c.nc(2);c.Db(1),c.vc("label",n.name),c.Db(1),c.uc("lazyLoad",a.getPreviewUrl(n))("errorImage","assets/images/white-noise.jpg")("defaultImage","assets/images/mire.jpg")}}function De(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div"),c.Nc(1),c.oc(2,"translate"),c.Xb(3,"b"),c.Nc(4),c.Wb(),c.Xb(5,"mat-slide-toggle",36),c.jc("change",(function(e){c.Fc(n);var a=t.$implicit;return c.nc(3).onMicChanged(e,a.id)})),c.Wb(),c.Wb()}if(2&e){var a=t.$implicit;c.Db(1),c.Pc(" ",c.pc(2,4,"Include audio in the stream ")," "),c.Db(3),c.Oc(a.name),c.Db(1),c.uc("id",a.id)("checked",!1)}}function Ce(e,t){if(1&e&&(c.Xb(0,"div"),c.Lc(1,De,6,6,"div",4),c.Wb()),2&e){var n=c.nc(2);c.Db(1),c.uc("ngForOf",n.mics)}}function ye(e,t){1&e&&(c.Xb(0,"div"),c.Nc(1),c.oc(2,"translate"),c.Wb()),2&e&&(c.Db(1),c.Pc(" ",c.pc(2,1,"No microphone to select")," "))}function We(e,t){if(1&e&&(c.Xb(0,"ngb-alert",37),c.Nc(1),c.Wb()),2&e){c.nc();var n=c.Cc(12),a=c.nc();c.uc("dismissible",!1),c.Db(1),c.Qc("Livestreaming now ",a.camera.name," to ",n.value," ")}}function Ie(e,t){if(1&e&&(c.Xb(0,"mat-error"),c.Nc(1),c.Wb()),2&e){var n=c.nc(2);c.Db(1),c.Oc(n.errorMsg)}}function Me(e,t){if(1&e&&(c.Xb(0,"div"),c.Xb(1,"mat-grid-tile"),c.Xb(2,"mat-radio-button",38),c.Nc(3),c.Sb(4,"img",35),c.Wb(),c.Wb(),c.Wb()),2&e){var n=t.$implicit,a=c.nc(2);c.Db(2),c.uc("value",n),c.Db(1),c.Pc("",n.name," "),c.Db(1),c.uc("lazyLoad",a.getPreviewUrl(n))("errorImage","assets/images/white-noise.jpg")("defaultImage","assets/images/mire.jpg")}}function Xe(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div"),c.Xb(1,"div",1),c.Nc(2),c.oc(3,"translate"),c.Xb(4,"mat-slide-toggle",2),c.jc("change",(function(e){return c.Fc(n),c.nc().onDisplayInstrument(e)})),c.Wb(),c.Wb(),c.Lc(5,we,25,3,"div",0),c.Xb(6,"mat-tab-group"),c.Xb(7,"mat-tab",3),c.Xb(8,"mat-tab-group"),c.Lc(9,Se,3,4,"div",4),c.Wb(),c.Wb(),c.Xb(10,"mat-tab",5),c.Xb(11,"mat-button-toggle-group",6,7),c.Xb(13,"mat-button-toggle",8),c.jc("click",(function(){return c.Fc(n),c.nc().onStream("STREAM_COMMAND_3")})),c.Sb(14,"i",9),c.Nc(15," Social Networks "),c.Wb(),c.Xb(16,"mat-button-toggle",10),c.jc("click",(function(){return c.Fc(n),c.nc().onStream("LIVERECORD")})),c.Sb(17,"i",11),c.Nc(18," Record "),c.Wb(),c.Xb(19,"mat-button-toggle",12),c.jc("click",(function(){return c.Fc(n),c.nc().onStopStream()})),c.Sb(20,"i",13),c.Nc(21," Stop "),c.Wb(),c.Wb(),c.Xb(22,"div",1),c.Nc(23),c.oc(24,"translate"),c.Xb(25,"mat-slide-toggle",14),c.jc("change",(function(e){return c.Fc(n),c.nc().onDataChanged(e)})),c.Wb(),c.Wb(),c.Xb(26,"div",1),c.Lc(27,Ce,2,1,"div",0),c.Lc(28,ye,3,3,"div",0),c.Wb(),c.Lc(29,We,2,3,"ngb-alert",15),c.Lc(30,Ie,2,1,"mat-error",0),c.Xb(31,"mat-radio-group",16),c.jc("ngModelChange",(function(e){return c.Fc(n),c.nc().camera=e})),c.Xb(32,"mat-grid-list",17),c.Lc(33,Me,5,5,"div",4),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Cc(12),o=c.nc();c.Db(2),c.Pc(" ",c.pc(3,12,"Show Instruments")," "),c.Db(2),c.uc("checked",!0),c.Db(1),c.uc("ngIf",o.worker),c.Db(4),c.uc("ngForOf",o.mosaic),c.Db(14),c.Pc(" ",c.pc(24,14,"Include navigation data in the stream")," "),c.Db(2),c.uc("checked",!0),c.Db(2),c.uc("ngIf",0<o.mics.length),c.Db(1),c.uc("ngIf",0===o.mics.length),c.Db(1),c.uc("ngIf",o.camera&&a.value),c.Db(1),c.uc("ngIf",o.errorMsg),c.Db(1),c.uc("ngModel",o.camera),c.Db(2),c.uc("ngForOf",o.mosaic)}}var Oe=[{heading:"n/a",speed:"n/a",tws:"n/a",twd:"n/a",time:"n/a",bla:"n/a",blo:"n/a"}],Le=function(){function e(e,t){this.dialogRef=e,this.data=t}return e.prototype.onSubmit=function(){this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(c.Rb(r.g),c.Rb(r.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ng-component"]],decls:31,vars:15,consts:[[1,"container"],[3,"ngSubmit"],["heroForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",1,"form-control",3,"disabled","ngModel","ngModelChange"],["name","ngModel"],[1,"alert","alert-danger",3,"hidden"],["for","url"],["type","text","id","url","required","","name","url",1,"form-control",3,"disabled","ngModel","ngModelChange"],["for","address"],["type","text","id","address","required","","name","address",1,"form-control",3,"disabled","ngModel","ngModelChange"],["color","accent","name","shouldRecord",1,"example-margin",3,"ngModel","checked","disabled","ngModelChange"],["color","accent","name","enabled",1,"example-margin",3,"ngModel","checked","disabled","ngModelChange"],["type","cancel",1,"btn","btn-success"]],template:function(e,t){if(1&e&&(c.Xb(0,"div",0),c.Xb(1,"h1"),c.Nc(2,"View Parameters"),c.Wb(),c.Xb(3,"form",1,2),c.jc("ngSubmit",(function(){return t.onSubmit()})),c.Xb(5,"div",3),c.Xb(6,"label",4),c.Nc(7,"Name"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.data.name=e})),c.Wb(),c.Xb(10,"div",7),c.Nc(11," Name is required "),c.Wb(),c.Xb(12,"label",8),c.Nc(13,"Preview URL"),c.Wb(),c.Xb(14,"input",9,6),c.jc("ngModelChange",(function(e){return t.data.camPreviewUrl=e})),c.Wb(),c.Xb(16,"div",7),c.Nc(17," URL is required "),c.Wb(),c.Xb(18,"label",10),c.Nc(19,"Recording Address "),c.Wb(),c.Xb(20,"input",11,6),c.jc("ngModelChange",(function(e){return t.data.address=e})),c.Wb(),c.Xb(22,"div",7),c.Nc(23," Address is required "),c.Wb(),c.Xb(24,"mat-slide-toggle",12),c.jc("ngModelChange",(function(e){return t.data.shouldRecord=e})),c.Nc(25," Record "),c.Wb(),c.Sb(26,"br"),c.Xb(27,"mat-slide-toggle",13),c.jc("ngModelChange",(function(e){return t.data.enabled=e})),c.Nc(28," Mosaic "),c.Wb(),c.Wb(),c.Xb(29,"button",14),c.Nc(30,"Close"),c.Wb(),c.Wb(),c.Wb()),2&e){var n=c.Cc(9);c.Db(8),c.uc("disabled",!0)("ngModel",t.data.name),c.Db(2),c.uc("hidden",n.valid||n.pristine),c.Db(4),c.uc("disabled",!0)("ngModel",t.data.camPreviewUrl),c.Db(2),c.uc("hidden",n.valid||n.pristine),c.Db(4),c.uc("disabled",!0)("ngModel",t.data.address),c.Db(2),c.uc("hidden",n.valid||n.pristine),c.Db(2),c.uc("ngModel",t.data.shouldRecord)("checked",t.data.shouldRecord)("disabled",!0),c.Db(3),c.uc("ngModel",t.data.enabled)("checked",t.data.enabled)("disabled",!0)}},directives:[l.s,l.j,l.k,l.b,l.o,l.i,l.l,d.a],encapsulation:2}),e}(),Ne=[{path:"",component:function(){function e(e,t,n){this.http=e,this.dialog=t,this.translate=n,this.cameras=null,this.microphones=null,this.displayedColumns=["heading","speed","time","blo","bla","tws","twd"],this.dataSource=Oe,this.isLoading=!0,this.mosaic=new Array,this.mics=new Array,this.microphone=null,this.translate.addLangs(["en","fr","ur","es","it","fa","de","zh-CHS"]),this.translate.setDefaultLang("en");var a=this.translate.getBrowserLang();this.translate.use(a.match(/en|fr|ur|es|it|fa|de|zh-CHS/)?a:"en"),this.cameras=new i.a(e),this.microphones=new u(e)}return e.prototype.onDisplayInstrument=function(e){this.stopInstrumentWorker(),e.checked&&this.startInstrumentWorker()},e.prototype.getInstruments=function(){var e=this;e.http.get("/recorder/data").subscribe((function(t){null!==t?t.forEach((function(t){if("bgs_d"===t.id)e.dataSource[0].speed=t.value;else if("bgt_d"===t.id)e.dataSource[0].heading=t.value;else if("twa_d"===t.id)e.dataSource[0].twd=t.value;else if("tws_d"===t.id)e.dataSource[0].tws=t.value;else if("gpsTime"===t.id){var n=Math.round(parseInt(t.value,10)),a=Math.floor(n/1e4),o=Math.floor((n-1e4*a)/100);e.dataSource[0].time=a+":"+o+":"+(n-(1e4*a+100*o))}else"blo"===t.id?e.dataSource[0].blo=t.value:"bla"===t.id&&(e.dataSource[0].bla=t.value)})):(e.dataSource[0].speed="err",e.dataSource[0].heading="err",e.dataSource[0].twd="err",e.dataSource[0].tws="err",e.dataSource[0].time="err",e.dataSource[0].blo="err")}),(function(){e.dataSource[0].speed="err",e.dataSource[0].heading="err",e.dataSource[0].twd="err",e.dataSource[0].tws="err",e.dataSource[0].time="err",e.dataSource[0].blo="err"}))},e.prototype.stopInstrumentWorker=function(){null!==this.worker&&(clearInterval(this.worker),this.worker=null,this.dataSource[0]={heading:"n/a",speed:"n/a",tws:"n/a",twd:"n/a",time:"n/a",bla:"n/a",blo:"n/a"})},e.prototype.startInstrumentWorker=function(){var e=this;this.getInstruments(),this.worker=setInterval((function(){e.getInstruments()}),2500)},e.prototype.ngOnDestroy=function(){console.log("ondestroy"),this.stopInstrumentWorker()},e.prototype.ngOnInit=function(){var e=this;this.startInstrumentWorker(),e.cameras.getCameras().then((function(t){e.mosaic=t,e.microphones.getMicrophones().then((function(t){e.mics=t,console.log(e.mics),e.isLoading=!1}))}))},e.prototype.postAction=function(e){var t=this;this.http.post("/recorder",e,{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){console.log(e),t.errorMsg="Success"}),(function(e){console.log(e),t.errorMsg=e.message}))},e.prototype.onMicChanged=function(e,t){this.microphone=e.checked?t:null},e.prototype.onDataChanged=function(e){this.postAction("action=data&verb="+(e.checked?"start":"stop"))},e.prototype.getPreviewUrl=function(e){return e?"/"+e.id:void 0},e.prototype.onStream=function(e){var t=this;this.stream=e,"LIVERECORD"!==this.stream?this.http.post("/recorder","action=CamButtons&verb=merge&stream="+e+"&prm="+[this.camera.id,this.microphone],{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){console.log(e),t.errorMsg="Success"}),(function(e){console.log(e),t.errorMsg=e.message})):this.http.post("/recorder","action=RecordButtons&verb=startRec&prm="+[this.camera.id,this.microphone],{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){console.log(e),t.errorMsg="Success"}),(function(e){console.log(e),t.errorMsg=e.message}))},e.prototype.onStopStream=function(){this.postAction("LIVERECORD"!==this.stream?"action=CamButtons&verb=stop":"action=RecordButtons&verb=stop"),this.stream=null},e.prototype.openDialog=function(e){this.dialog.open(Le,{width:"100%",data:e}).afterClosed().subscribe((function(e){console.log("The dialog was closed"+e)}))},e.\u0275fac=function(t){return new(t||e)(c.Rb(s.a),c.Rb(r.b),c.Rb(b.d))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-mosaic"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"configuration-container"],["id","showInstrument",3,"checked","change"],["label","Cameras"],[4,"ngFor","ngForOf"],["label","Mosaic"],["value","stop"],["group","matButtonToggleGroup"],["value","Facebook","aria-label","Text align center",3,"click"],[1,"fa","fa-fw","fa-facebook-f"],["value","record","aria-label","Text align right",3,"click"],[1,"fa","fa-fw","fa-film"],["value","stop","aria-label","Text align right",3,"click"],[1,"fa","fa-fw","fa-stop"],["id","datainstream",3,"checked","change"],["class","example-selected-value",3,"dismissible",4,"ngIf"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange"],["cols","2","rowHeight","2:1"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","heading"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","speed"],["matColumnDef","tws"],["matColumnDef","twd"],["matColumnDef","time"],["matColumnDef","blo"],["matColumnDef","bla"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[3,"label"],[1,"camera",3,"lazyLoad","errorImage","defaultImage"],[3,"id","checked","change"],[1,"example-selected-value",3,"dismissible"],[1,"example-radio-button",3,"value"]],template:function(e,t){1&e&&(c.Lc(0,ne,2,0,"div",0),c.Lc(1,Xe,34,16,"div",0)),2&e&&(c.uc("ngIf",t.isLoading),c.Db(1),c.uc("ngIf",!t.isLoading))},directives:[a.m,d.a,m.b,m.a,a.l,g.b,g.a,f.b,l.i,l.l,h.a,p.j,p.c,p.e,p.b,p.g,p.i,p.d,p.a,p.f,p.h,Q,ee.b,te.b,h.c,f.a],pipes:[b.c],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden}img.camera-mosaic[_ngcontent-%COMP%]{width:90%}.camera[_ngcontent-%COMP%]{margin:auto;width:80%}table[_ngcontent-%COMP%]{width:100%}"]}),e}()}],ke=function(){function e(){}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},imports:[[o.g.forChild(Ne)],o.g]}),e}(),je=n("M0ag"),Pe=n("iYur"),Re=n("BtvD"),xe=n("h/AT"),ze=n("p+mS"),Ae=n("17Os"),Ee=n("DjAo"),Fe=n("S9aa"),Te=n("MqYC"),Be=n("tNiZ"),Ve=n("XIAg"),Ue=n("dOeY"),$e=n("GsDI"),_e=n("cSbt"),qe=n("+0bg"),Je=n("OJ6B"),He=n("nbAZ"),Ye=n("VkwW"),Ge=n("uad8"),Ze=n("agxM"),Qe=n("xJ+t"),Ke=n("oIZM"),et=n("5msO"),tt=n("Byqp"),nt=n("CAq0"),at=n("FfOm"),ot=n("2J1J"),rt=n("M/Yn"),it=function(){function e(){}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},imports:[[b.b,a.c,ke,je.e,K,s.b,Pe.a,Re.a,xe.a,ze.b,g.c,Ae.a,Ee.a,Fe.a,nt.a,Be.a,r.f,Ve.a,Ue.b,h.b,$e.b,_e.c,qe.a,Je.b,Te.l,He.b,Ye.b,Ge.b,f.c,Te.t,Ze.b,Qe.a,Ke.a,d.b,et.a,tt.c,p.k,m.d,at.a,ot.b,rt.a,Ee.a,l.d,ee.j]]}),e}()}}]);