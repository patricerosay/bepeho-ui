(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"4qUK":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return function(){}}()},nZeH:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("Valr"),o=n("TYT/"),c=n("MnXN"),a=n("eHTH"),r=n("QJY3"),s=n("cUzu"),d=n("p+mS"),u=n("T5p2");function l(e,t){if(1&e&&(o.Xb(0,"mat-error"),o.Nc(1),o.Wb()),2&e){var n=o.nc();o.Db(1),o.Oc(n.invalidClipNameError)}}var b=["autosize"];function g(e,t){if(1&e&&(o.Xb(0,"mat-error"),o.Nc(1),o.Wb()),2&e){var n=o.nc();o.Db(1),o.Oc(n.errorMsg)}}function p(e,t){if(1&e&&(o.Xb(0,"div"),o.Nc(1),o.Wb()),2&e){var n=o.nc();o.Db(1),o.Oc(n.headerMessage)}}function h(e,t){1&e&&(o.Xb(0,"div"),o.Nc(1,"loading ...."),o.Wb())}function f(e,t){1&e&&(o.Xb(0,"th",25),o.Nc(1,"Name"),o.Wb())}function m(e,t){if(1&e&&(o.Xb(0,"td",26),o.Nc(1),o.Wb()),2&e){var n=t.$implicit;o.Db(1),o.Oc(n.date)}}function v(e,t){1&e&&(o.Xb(0,"th",25),o.Nc(1,"RecordedTime"),o.Wb())}function y(e,t){if(1&e&&(o.Xb(0,"td",26),o.Nc(1),o.Wb()),2&e){var n=t.$implicit;o.Db(1),o.Oc(n.name)}}function C(e,t){1&e&&(o.Xb(0,"th",25),o.Nc(1,"Max Ground Speed"),o.Wb())}function M(e,t){if(1&e&&(o.Xb(0,"td",26),o.Nc(1),o.Wb()),2&e){var n=t.$implicit;o.Db(1),o.Oc(n.bgs)}}function _(e,t){1&e&&(o.Xb(0,"th",25),o.Nc(1,"Max Ground Direction"),o.Wb())}function P(e,t){if(1&e&&(o.Xb(0,"td",26),o.Nc(1),o.Wb()),2&e){var n=t.$implicit;o.Db(1),o.Oc(n.bgd)}}function O(e,t){1&e&&o.Sb(0,"tr",27)}function w(e,t){1&e&&o.Sb(0,"tr",28)}function X(e,t){if(1&e){var n=o.Yb();o.Xb(0,"button",14),o.jc("click",(function(){o.Fc(n);var e=t.$implicit,i=t.index;return o.nc(2).onClickPlaylistItem(e,i)})),o.Nc(1),o.Wb()}if(2&e){var i=t.$implicit,c=o.nc(2);o.Ib("selected",i===c.currentVideo),o.Db(1),o.Pc(" ",i.channel," ")}}function W(e,t){1&e&&(o.Xb(0,"div"),o.Sb(1,"i",29),o.Nc(2," No Audio"),o.Wb())}function D(e,t){if(1&e){var n=o.Yb();o.Xb(0,"div",30),o.Xb(1,"vg-player",31),o.jc("onPlayerReady",(function(e){return o.Fc(n),o.nc(2).onAudioPlayerReady(e)})),o.Sb(2,"audio",32,33),o.Wb(),o.Wb()}if(2&e){var i=o.Cc(3),c=o.nc(2);o.Db(2),o.wc("src","/media/",c.currentAudio.src,"",o.Gc),o.uc("vgMedia",i)}}function N(e,t){if(1&e){var n=o.Yb();o.Xb(0,"div"),o.Xb(1,"table",5),o.Vb(2,6),o.Lc(3,f,2,0,"th",7),o.Lc(4,m,2,1,"td",8),o.Ub(),o.Vb(5,9),o.Lc(6,v,2,0,"th",7),o.Lc(7,y,2,1,"td",8),o.Ub(),o.Vb(8,10),o.Lc(9,C,2,0,"th",7),o.Lc(10,M,2,1,"td",8),o.Ub(),o.Vb(11,11),o.Lc(12,_,2,0,"th",7),o.Lc(13,P,2,1,"td",8),o.Ub(),o.Lc(14,O,1,0,"tr",12),o.Lc(15,w,1,0,"tr",13),o.Wb(),o.Xb(16,"button",14),o.jc("click",(function(){return o.Fc(n),o.nc().onBuildClip()})),o.Nc(17," Build "),o.Wb(),o.Xb(18,"button",14),o.jc("click",(function(){return o.Fc(n),o.nc().onExportSegment()})),o.Nc(19," Export "),o.Wb(),o.Xb(20,"button",14),o.jc("click",(function(){return o.Fc(n),o.nc().onSaveSegment()})),o.Nc(21," Save "),o.Wb(),o.Xb(22,"nav",15),o.Xb(23,"div"),o.Xb(24,"div",16),o.Xb(25,"vg-player",17),o.jc("onPlayerReady",(function(e){return o.Fc(n),o.nc().onVideoPlayerReady(e)})),o.Sb(26,"vg-buffering"),o.Sb(27,"vg-overlay-play"),o.Xb(28,"vg-controls",18),o.Sb(29,"vg-playback-button"),o.Sb(30,"vg-time-display",19),o.Xb(31,"vg-scrub-bar"),o.Sb(32,"vg-scrub-bar-current-time"),o.Sb(33,"vg-scrub-bar-buffering-time"),o.Wb(),o.Sb(34,"vg-fullscreen"),o.Lc(35,X,2,3,"button",20),o.Wb(),o.Xb(36,"video",21,22),o.Sb(38,"track",23),o.Wb(),o.Wb(),o.Wb(),o.Lc(39,W,3,0,"div",2),o.Lc(40,D,4,2,"div",24),o.Wb(),o.Wb(),o.Wb()}if(2&e){var i=o.Cc(37),c=o.nc();o.Db(1),o.uc("dataSource",c.nmea),o.Db(13),o.uc("matHeaderRowDef",c.displayedColumns),o.Db(1),o.uc("matRowDefColumns",c.displayedColumns),o.Db(13),o.uc("vgAutohide",!0)("vgAutohideTime",1.5),o.Db(7),o.uc("ngForOf",c.segment.videos),o.Db(1),o.wc("src","/media/",c.currentVideo.src,"",o.Gc),o.uc("vgMedia",i),o.Db(2),o.wc("src","/media/subtitles/",c.data.GroupID,".vtt",o.Gc),o.Db(1),o.uc("ngIf",!c.currentAudio),o.Db(1),o.uc("ngIf",c.currentAudio)}}var S=function(){function e(e){this.activeModal=e,this.newClipName="clip"+Object(i.x)(new Date,"yyyy-MM-dd:HHMMSS","en"),this.style=1,this.invalidClipNameError=null}return e.prototype.onClose=function(){this.newClipName.length>=5?this.activeModal.close(this.newClipName+"|"+this.style):this.invalidClipNameError="Invalid parameters"},e.\u0275fac=function(t){return new(t||e)(o.Rb(c.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["ng-component"]],decls:30,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"nav","navbar-nav","flex-nowrap","ml-auto"],["hintLabel","Min 5 and max 30 characters"],["matInput","","matNativeControl","","required","","maxlength","30","placeholder","Enter new clip name",3,"ngModel","ngModelChange"],["input",""],["align","end"],[4,"ngIf"],["matNativeControl","","required","",3,"value","ngModel","valueChange","ngModelChange"],["value","1"],["value","2"],["value","4"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"h4",1),o.Nc(2,"Clip Building Parameters"),o.Wb(),o.Xb(3,"button",2),o.jc("click",(function(){return t.activeModal.dismiss("Cross click")})),o.Xb(4,"span",3),o.Nc(5,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(6,"div",4),o.Xb(7,"div",5),o.Xb(8,"mat-form-field",6),o.Xb(9,"input",7,8),o.jc("ngModelChange",(function(e){return t.newClipName=e})),o.Wb(),o.Xb(11,"mat-hint",9),o.Nc(12),o.Wb(),o.Lc(13,l,2,1,"mat-error",10),o.Wb(),o.Sb(14,"br"),o.Xb(15,"mat-form-field"),o.Xb(16,"mat-label"),o.Nc(17,"Clip Style"),o.Wb(),o.Xb(18,"select",11),o.jc("valueChange",(function(e){return t.style=e}))("ngModelChange",(function(e){return t.style=e})),o.Xb(19,"option",12),o.Nc(20,"Cool"),o.Wb(),o.Xb(21,"option",13),o.Nc(22,"Dynamic"),o.Wb(),o.Xb(23,"option",14),o.Nc(24,"Nervous"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(25,"div",15),o.Xb(26,"button",16),o.jc("click",(function(){return t.activeModal.close("")})),o.Nc(27,"Cancel"),o.Wb(),o.Xb(28,"button",17),o.jc("click",(function(){return t.onClose()})),o.Nc(29,"OK"),o.Wb(),o.Wb()),2&e){var n=o.Cc(10);o.Db(9),o.uc("ngModel",t.newClipName),o.Db(3),o.Pc("",(null==n.value?null:n.value.length)||1,"/30"),o.Db(1),o.uc("ngIf",t.invalidClipNameError),o.Db(5),o.uc("value",t.style)("ngModel",t.style)}},directives:[a.c,r.b,r.o,r.e,r.i,r.l,a.f,i.m,a.g,r.p,r.m,r.r,a.b],encapsulation:2}),e}(),x=function(){function e(e,t,n,i){this.http=e,this.activeModal=t,this._ngZone=n,this.modalService=i,this.isLoading=!0,this.currentIndex=0,this.currentVideo=null,this.currentAudio=null,this.currentTime=0,this.currentSrc=null,this.displayedColumns=["bgs","bgd"]}return e.prototype.ngOnInit=function(){this.json&&(this.segment=JSON.parse(this.json).segments[0],this.currentVideo=this.segment.videos[this.currentIndex],this.currentAudio=this.segment.audios[0],this.headerMessage="Recorded "+this.data.start_time,this.nmea=[{date:Object(i.x)(this.data.start_time,"MM/dd/yyyy hh:mm","en"),name:this.data.GroupID,bgs:this.data.nmea_d_bgs_d,bgd:this.data.nmea_d_bgt_d}],this.isLoading=!1)},e.prototype.onPlayedVideo=function(e){this.audioApi&&this.audioApi.play()},e.prototype.onPausedVideo=function(e){this.audioApi&&this.audioApi.pause()},e.prototype.onUpdateVideoState=function(e){this.audioApi&&this.videoApi.play()},e.prototype.onSeeked=function(e){this.audioApi&&this.audioApi.seekTime(this.currentTime)},e.prototype.onEnded=function(e){this.audioApi&&this.audioApi.pause()},e.prototype.onRateChaged=function(e){this.audioApi&&(this.audioApi.playbackRate=this.videoApi.playbackRate)},e.prototype.onAudioPlayerReady=function(e){this.audioApi=e},e.prototype.onVideoPlayerReady=function(e){var t=this;this.videoApi=e,this.videoApi.subscriptions.play.subscribe(this.onPlayedVideo.bind(this)),this.videoApi.subscriptions.pause.subscribe(this.onPausedVideo.bind(this)),this.videoApi.subscriptions.ended.subscribe(this.onEnded.bind(this)),this.videoApi.subscriptions.error.subscribe(this.onEnded.bind(this)),this.videoApi.subscriptions.rateChange.subscribe(this.onRateChaged.bind(this)),this.videoApi.subscriptions.seeked.subscribe(this.onSeeked.bind(this)),this.videoApi.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.playVideo.bind(this)),this.videoApi.subscriptions.timeUpdate.subscribe((function(e){0!==e.srcElement.currentTime&&(t.currentSrc===e.srcElement.currentSrc?t.currentTime=e.srcElement.currentTime:t.currentSrc=e.srcElement.currentSrc)}))},e.prototype.nextVideo=function(){this.currentIndex++,this.currentIndex===this.segment.videos.length&&(this.currentIndex=0),this.currentVideo=this.segment.videos[this.currentIndex]},e.prototype.seekToCurrentTime=function(){this.videoApi.seekTime(this.currentTime),this.audioApi&&this.audioApi.seekTime(this.currentTime)},e.prototype.playVideo=function(){this.videoApi.play(),null!==this.audioApi&&this.audioApi.play(),this.seekToCurrentTime()},e.prototype.onClickPlaylistItem=function(e,t){this.currentIndex=t,this.currentVideo=e},e.prototype.onBuildClip=function(){var e=this,t=this;this.modalService.open(S,{centered:!0}).result.then((function(n){var i;if(""!==n){i=n.split("|"),t.newClipName=i[0],t.style=i[1];for(var o=Number(t.data.Duration),c=o/(t.segment.videos.length*e.style),a={beginEnd:[0,o],archive:!0,clipName:t.newClipName,clipDuration:o,videos:[],audios:[{position:0,segment:"",duration:o,id:t.segment.audios[0].id,url:t.segment.audios[0].src}]},r=0,s=0;s<t.style;s++)t.segment.videos.forEach((function(e){a.videos.push({position:r,duration:c,id:e.id,segment:t.data.GroupID}),r+=1}));t.http.post("/recorder","action=FileSystem&verb=build&prm="+JSON.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){console.log(e),t.errorMsg="Success"}),(function(e){console.log(e),t.errorMsg=e.message}))}}),(function(e){}))},e.prototype.onSaveSegment=function(){var e=[],t=this;this.segment.audios.forEach((function(t){e.push(t.id)})),this.segment.videos.forEach((function(t){e.push(t.id)})),e.push(this.data.GroupID),this.http.post("/recorder","action=FileSystem&verb=keep&prm="+e.join(","),{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){t.headerMessage="Success"}),(function(e){t.headerMessage=e.message}))},e.prototype.onExportSegment=function(){var e=[],t=this;this.segment.audios.forEach((function(t){e.push(t.id)})),this.segment.videos.forEach((function(t){e.push(t.id)})),e.push(this.data.GroupID),this.http.post("/recorder","action=FileSystem&verb=get&prm="+e.join(","),{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(e){t.headerMessage="Success"}),(function(e){t.headerMessage=e.message}))},e.\u0275fac=function(t){return new(t||e)(o.Rb(s.a),o.Rb(c.a),o.Rb(o.A),o.Rb(c.i))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-qview"]],viewQuery:function(e,t){var n;1&e&&o.Sc(b,!0),2&e&&o.Bc(n=o.kc())&&(t.autosize=n.first)},decls:9,vars:4,consts:[[1,"modal-header","modal-xl"],[1,"modal-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","bgs"],["matColumnDef","bgd"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"click"],[1,"navbar","navbar-light","navbar-expand","bg-white","shadow","mb-4","topbar","static-top"],[1,"videogular-container"],["onUpdateState","onUpdateState($state)",3,"onPlayerReady"],[3,"vgAutohide","vgAutohideTime"],["vgProperty","current","vgFormat","mm:ss"],["mat-raised-button","","color","primary",3,"selected","click",4,"ngFor","ngForOf"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia","src"],["mediaV",""],["kind","subtitles","label","Data","srclang","en","default","",3,"src"],["hidden","","class","videogular-container-audio",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"fa","fa-microphone-slash"],["hidden","",1,"videogular-container-audio"],[3,"onPlayerReady"],["vg-type","audio","id","singleAudio","preload","auto","crossorigin","",3,"vgMedia","src"],["mediaA",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"h4",1),o.Lc(2,g,2,1,"mat-error",2),o.Lc(3,p,2,1,"div",2),o.Wb(),o.Xb(4,"button",3),o.jc("click",(function(){return t.activeModal.dismiss("Cross click")})),o.Xb(5,"span",4),o.Nc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Lc(7,h,2,0,"div",2),o.Lc(8,N,41,11,"div",2)),2&e&&(o.Db(2),o.uc("ngIf",t.errorMsg),o.Db(1),o.uc("ngIf",t.headerMessage),o.Db(4),o.uc("ngIf",t.isLoading),o.Db(1),o.uc("ngIf",!t.isLoading))},directives:[i.m,a.b,d.a,c.k,u.n,u.e,u.o,u.f,u.h,u.l,u.i,u.k,u.j,u.g,i.l,u.m],styles:['@font-face{font-family:videogular;src:url(videogular.cb94a8eaf88cdf576801.eot?hj1wei);src:url(videogular.cb94a8eaf88cdf576801.eot?hj1wei#iefix) format("embedded-opentype"),url(videogular.7b2cf1a3b74373b9bfdf.ttf?hj1wei) format("truetype"),url(videogular.d6b24360bd8bd3fbdab8.woff?hj1wei) format("woff"),url(videogular.6cbfb587b23dba448c1f.svg?hj1wei#videogular) format("svg");font-weight:400;font-style:normal}[class*=" vg-icon-"][_ngcontent-%COMP%], [class^=vg-icon-][_ngcontent-%COMP%]{font-family:videogular!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;display:flex;align-items:center;justify-content:center;width:50px;font-size:24px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.vg-icon-closed_caption[_ngcontent-%COMP%]:before{content:"\\e006"}.vg-icon-pause[_ngcontent-%COMP%]:before{content:"\\e018"}.vg-icon-play_arrow[_ngcontent-%COMP%]:before{content:"\\e01b"}.vg-icon-repeat[_ngcontent-%COMP%]:before{content:"\\e023"}.vg-icon-replay[_ngcontent-%COMP%]:before{content:"\\e025"}.vg-icon-skip_next[_ngcontent-%COMP%]:before{content:"\\e027"}.vg-icon-skip_previous[_ngcontent-%COMP%]:before{content:"\\e028"}.vg-icon-stop[_ngcontent-%COMP%]:before{content:"\\e02a"}.vg-icon-volume_down[_ngcontent-%COMP%]:before{content:"\\e030"}.vg-icon-volume_mute[_ngcontent-%COMP%]:before{content:"\\e031"}.vg-icon-volume_off[_ngcontent-%COMP%]:before{content:"\\e032"}.vg-icon-volume_up[_ngcontent-%COMP%]:before{content:"\\e033"}.vg-icon-hd[_ngcontent-%COMP%]:before{content:"\\e035"}.vg-icon-forward_10[_ngcontent-%COMP%]:before{content:"\\e038"}.vg-icon-forward_30[_ngcontent-%COMP%]:before{content:"\\e039"}.vg-icon-replay_10[_ngcontent-%COMP%]:before{content:"\\e03b"}.vg-icon-replay_30[_ngcontent-%COMP%]:before{content:"\\e03c"}.vg-icon-fullscreen[_ngcontent-%COMP%]:before{content:"\\e20c"}.vg-icon-fullscreen_exit[_ngcontent-%COMP%]:before{content:"\\e20d"}vg-player[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden}.videogular-container[_ngcontent-%COMP%], .videogular-container-audio[_ngcontent-%COMP%]{width:100%;margin:auto;overflow:hidden}.videogular-container-audio[_ngcontent-%COMP%]{height:50px}@media (min-width:992px){.videogular-container[_ngcontent-%COMP%]{height:75%}.videogular-container-audio[_ngcontent-%COMP%]{height:50px}}@media (min-width:768px) and (max-width:991px){.videogular-container[_ngcontent-%COMP%]{height:75%}.videogular-container-audio[_ngcontent-%COMP%]{height:50px}}videogular[_ngcontent-%COMP%]   my-stop-button[_ngcontent-%COMP%]{display:table-cell;width:50px;vertical-align:middle;text-align:center;cursor:pointer}videogular[_ngcontent-%COMP%]   my-stop-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], videogular[_ngcontent-%COMP%]   my-stop-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, videogular[_ngcontent-%COMP%]   my-stop-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;text-decoration:none}videogular[_ngcontent-%COMP%]   div.my-button[_ngcontent-%COMP%]{display:table-cell;width:50px;vertical-align:middle;text-align:center;cursor:pointer}videogular[_ngcontent-%COMP%]   div.my-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], videogular[_ngcontent-%COMP%]   div.my-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, videogular[_ngcontent-%COMP%]   div.my-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;text-decoration:none}table[_ngcontent-%COMP%]{width:100%}[_ngcontent-%COMP%]::cue{color:#ff0;font-weight:700;line:-16}']}),e}()}}]);