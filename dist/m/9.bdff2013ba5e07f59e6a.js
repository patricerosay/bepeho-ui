(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4qUK":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){return function(){}}()},lyRK:function(t,e,n){"use strict";n.r(e),n.d(e,"VideoRecordsModule",(function(){return B}));var i=n("Valr"),o=n("o8Qb"),c=n("M0ag"),a=n("DUip"),r=n("nbAZ"),s=n("Byqp"),l=n("p0ib"),u=n("F/XL"),b=n("p0Sj"),g=n("15JJ"),d=n("67Y/"),f=n("9Z1F"),p=n("4qUK"),m=n("Iab2"),h=n("TYT/"),v=n("cUzu"),w=n("ETwC"),C=n("uad8"),y=n("MnXN"),P=n("T5p2"),_=function(){function t(){this.event=new h.o}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Lb({type:t,selectors:[["app-clip"]],inputs:{img:"img",src:"src",id:"id",subtitle:"subtitle",gotoUrl:"gotoUrl"},outputs:{event:"event"},decls:14,vars:5,consts:[[1,"videogular-container"],["vgProperty","current","vgFormat","mm:ss"],[3,"vgMedia","src","id","poster"],["media",""],["kind","subtitles","label","Data","srclang","en","default","",3,"src"]],template:function(t,e){if(1&t&&(h.Xb(0,"div",0),h.Xb(1,"vg-player"),h.Sb(2,"vg-buffering"),h.Xb(3,"vg-controls"),h.Sb(4,"vg-play-pause"),h.Sb(5,"vg-playback-button"),h.Sb(6,"vg-time-display",1),h.Xb(7,"vg-scrub-bar"),h.Sb(8,"vg-scrub-bar-current-time"),h.Sb(9,"vg-scrub-bar-buffering-time"),h.Wb(),h.Sb(10,"vg-fullscreen"),h.Wb(),h.Xb(11,"video",2,3),h.Sb(13,"track",4),h.Wb(),h.Wb(),h.Wb()),2&t){var n=h.Cc(12);h.Db(11),h.vc("id",e.id),h.uc("vgMedia",n)("src",e.src,h.Gc)("poster",e.img,h.Gc),h.Db(2),h.vc("src",e.subtitle,h.Gc)}},directives:[P.o,P.e,P.f,P.h,P.i,P.m,P.j,P.l,P.k,P.g,P.n],styles:['@font-face{font-family:videogular;src:url(videogular.cb94a8eaf88cdf576801.eot?hj1wei);src:url(videogular.cb94a8eaf88cdf576801.eot?hj1wei#iefix) format("embedded-opentype"),url(videogular.7b2cf1a3b74373b9bfdf.ttf?hj1wei) format("truetype"),url(videogular.d6b24360bd8bd3fbdab8.woff?hj1wei) format("woff"),url(videogular.6cbfb587b23dba448c1f.svg?hj1wei#videogular) format("svg");font-weight:400;font-style:normal}[class*=" vg-icon-"][_ngcontent-%COMP%], [class^=vg-icon-][_ngcontent-%COMP%]{font-family:videogular!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;display:flex;align-items:center;justify-content:center;width:50px;font-size:24px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.vg-icon-closed_caption[_ngcontent-%COMP%]:before{content:"\\e006"}.vg-icon-pause[_ngcontent-%COMP%]:before{content:"\\e018"}.vg-icon-play_arrow[_ngcontent-%COMP%]:before{content:"\\e01b"}.vg-icon-repeat[_ngcontent-%COMP%]:before{content:"\\e023"}.vg-icon-replay[_ngcontent-%COMP%]:before{content:"\\e025"}.vg-icon-skip_next[_ngcontent-%COMP%]:before{content:"\\e027"}.vg-icon-skip_previous[_ngcontent-%COMP%]:before{content:"\\e028"}.vg-icon-stop[_ngcontent-%COMP%]:before{content:"\\e02a"}.vg-icon-volume_down[_ngcontent-%COMP%]:before{content:"\\e030"}.vg-icon-volume_mute[_ngcontent-%COMP%]:before{content:"\\e031"}.vg-icon-volume_off[_ngcontent-%COMP%]:before{content:"\\e032"}.vg-icon-volume_up[_ngcontent-%COMP%]:before{content:"\\e033"}.vg-icon-hd[_ngcontent-%COMP%]:before{content:"\\e035"}.vg-icon-forward_10[_ngcontent-%COMP%]:before{content:"\\e038"}.vg-icon-forward_30[_ngcontent-%COMP%]:before{content:"\\e039"}.vg-icon-replay_10[_ngcontent-%COMP%]:before{content:"\\e03b"}.vg-icon-replay_30[_ngcontent-%COMP%]:before{content:"\\e03c"}.vg-icon-fullscreen[_ngcontent-%COMP%]:before{content:"\\e20c"}.vg-icon-fullscreen_exit[_ngcontent-%COMP%]:before{content:"\\e20d"}vg-player[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden}vg-player.video[_ngcontent-%COMP%]{font-family:videogular;position:relative;display:flex;width:320px;height:180px;overflow:hidden;background-color:#000}.videogular-container[_ngcontent-%COMP%]{width:70%;height:auto;margin:auto;overflow:hidden}@media (min-width:1200px){.videogular-container[_ngcontent-%COMP%]{width:320px;height:180px}.videogular-container.audio[_ngcontent-%COMP%]{width:320px;height:50px}}@media (min-width:992px) and (max-width:1199px){.videogular-container[_ngcontent-%COMP%]{width:320px;height:180px}.videogular-container.audio[_ngcontent-%COMP%]{width:320px;height:50px}}@media (min-width:768px) and (max-width:991px){.videogular-container[_ngcontent-%COMP%]{width:320px;height:180px}.videogular-container.audio[_ngcontent-%COMP%]{width:320px;height:50px}}']}),t}(),D=n("OJ6B");function O(t,e){1&t&&(h.Xb(0,"div",14),h.Sb(1,"mat-progress-spinner",15),h.Wb())}function M(t,e){if(1&t){var n=h.Yb();h.Xb(0,"ngb-alert",16),h.jc("close",(function(){return h.Fc(n),h.nc().resultMessage=null})),h.Nc(1),h.Wb()}if(2&t){var i=h.nc();h.Db(1),h.Oc(i.resultMessage)}}function S(t,e){1&t&&(h.Xb(0,"th",17),h.Nc(1),h.oc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.Oc(h.pc(2,1,"Name")))}function x(t,e){if(1&t&&(h.Xb(0,"td",18),h.Nc(1),h.Wb()),2&t){var n=e.$implicit;h.Db(1),h.Oc(n[0].GroupID)}}function L(t,e){1&t&&(h.Xb(0,"th",17),h.Nc(1),h.oc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.Oc(h.pc(2,1,"Preview")))}function X(t,e){if(1&t&&(h.Xb(0,"td",18),h.Sb(1,"app-clip",19),h.Wb()),2&t){var n=e.$implicit,i=h.nc();h.Db(1),h.uc("id",i.getID(n[0]))("img",i.getImg(n[0]))("src",i.getUrl(n[0]))("subtitle",i.getSubtitle(n[0]))}}function W(t,e){1&t&&(h.Xb(0,"th",17),h.Nc(1),h.oc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.Oc(h.pc(2,1,"Action")))}function j(t,e){if(1&t){var n=h.Yb();h.Xb(0,"td",18),h.Xb(1,"button",20),h.Nc(2,">>"),h.Wb(),h.Xb(3,"mat-menu",null,21),h.Xb(5,"button",22),h.jc("click",(function(){h.Fc(n);var t=e.$implicit,i=h.nc();return i.uploadThisFile(i.getID(t[0]),i.getID(t[0])+" will be uploaded shortly")})),h.Sb(6,"i",23),h.Xb(7,"span"),h.Nc(8),h.oc(9,"translate"),h.Wb(),h.Wb(),h.Xb(10,"button",22),h.jc("click",(function(){h.Fc(n);var t=e.$implicit,i=h.nc();return i.downloadThisFile(i.getUrl(t[0]),i.getID(t[0])+" was downloaded")})),h.Sb(11,"i",24),h.Xb(12,"span"),h.Nc(13),h.oc(14,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Wb()}if(2&t){var i=h.Cc(4);h.Db(1),h.uc("matMenuTriggerFor",i),h.Db(7),h.Pc(" ",h.pc(9,3,"Upload the clip on FTP server"),""),h.Db(5),h.Pc("",h.pc(14,5,"Download the clip")," ")}}function R(t,e){1&t&&(h.Xb(0,"th",25),h.Nc(1),h.oc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.Pc(" ",h.pc(2,1,"State")," "))}function I(t,e){1&t&&(h.Xb(0,"div"),h.Sb(1,"i",28),h.Wb())}function k(t,e){1&t&&(h.Xb(0,"div"),h.Sb(1,"i",29),h.Wb())}function U(t,e){1&t&&(h.Xb(0,"div"),h.Sb(1,"i",30),h.Wb())}function F(t,e){1&t&&(h.Xb(0,"div"),h.Sb(1,"i",31),h.Wb())}function N(t,e){if(1&t&&(h.Xb(0,"td",18),h.Xb(1,"div",26),h.Lc(2,I,2,0,"div",27),h.Lc(3,k,2,0,"div",27),h.Lc(4,U,2,0,"div",27),h.Lc(5,F,2,0,"div",27),h.Wb(),h.Wb()),2&t){var n=e.$implicit,i=h.nc();h.Db(1),h.uc("ngSwitch",i.getState(n[0])),h.Db(1),h.uc("ngSwitchCase","archived"),h.Db(1),h.uc("ngSwitchCase","transfered"),h.Db(1),h.uc("ngSwitchCase","transfering"),h.Db(1),h.uc("ngSwitchCase","Declared")}}function T(t,e){1&t&&(h.Xb(0,"th",25),h.Nc(1),h.oc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.Pc(" ",h.pc(2,1,"Creation Date")," "))}function z(t,e){if(1&t&&(h.Xb(0,"td",18),h.Nc(1),h.oc(2,"date"),h.Wb()),2&t){var n=e.$implicit;h.Db(1),h.Pc(" ",h.qc(2,1,n[0].start_time,"MM/dd/yyyy hh:mm")," ")}}function V(t,e){1&t&&h.Sb(0,"tr",32)}function G(t,e){1&t&&h.Sb(0,"tr",33)}var H=function(){function t(t,e){this._httpClient=t,this.translate=e,this.displayedColumns=["created","img","title","state","action"],this.data=[],this.elementPerPage=5,this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.searchPrms=new p.a,this.translate.addLangs(["en","fr","ur","es","it","fa","de","zh-CHS"]),this.translate.setDefaultLang("en");var n=this.translate.getBrowserLang();this.translate.use(n.match(/en|fr|ur|es|it|fa|de|zh-CHS/)?n:"en")}return t.prototype.getImg=function(t){return"/media/"+t.filename_i_file},t.prototype.getUrl=function(t){return"/media/"+t.filename_p_file},t.prototype.getID=function(t){return t.GroupID},t.prototype.getState=function(t){return t.State},t.prototype.getSubtitle=function(t){return"/media/subtitles/"+t.GroupID+".vtt"},t.prototype.downloadThisFile=function(t,e){Object(m.saveAs)(t,"video.mp4"),this.resultMessage=e},t.prototype.uploadThisFile=function(t,e){var n=this;new URLSearchParams,this._httpClient.post("/recorder","action=FileSystem&verb=send&prm="+JSON.stringify({id:t,text:" empty"}),{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe((function(t){console.log(t),n.resultMessage="Success"}),(function(t){console.log(t),n.resultMessage=t.message})),this.resultMessage=e},t.prototype.ngAfterViewInit=function(){var t=this;this.searchPrms.type="video_import",this.exampleDatabase=new J(this._httpClient,this.elementPerPage),this.sort.sortChange.subscribe((function(){return t.paginator.pageIndex=0})),Object(l.a)(this.sort.sortChange,this.paginator.page).pipe(Object(b.a)({}),Object(g.a)((function(){return t.isLoadingResults=!0,t.exampleDatabase.getClips(t.sort.active,t.sort.direction,t.paginator.pageIndex,t.searchPrms)})),Object(d.a)((function(e){return t.isLoadingResults=!1,t.isRateLimitReached=!1,t.resultsLength=e.groupCount,e.groups})),Object(f.a)((function(){return t.isLoadingResults=!1,t.isRateLimitReached=!0,Object(u.a)([])}))).subscribe((function(e){return t.data=e}))},t.\u0275fac=function(e){return new(e||t)(h.Rb(v.a),h.Rb(o.d))},t.\u0275cmp=h.Lb({type:t,selectors:[["app-map"]],viewQuery:function(t,e){var n;1&t&&(h.Sc(r.a,!0),h.Sc(s.a,!0)),2&t&&(h.Bc(n=h.kc())&&(e.paginator=n.first),h.Bc(n=h.kc())&&(e.sort=n.first))},decls:23,vars:7,consts:[["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],["type","success",3,"close",4,"ngIf"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","img"],["matColumnDef","action"],["matColumnDef","state"],["mat-header-cell","","mat-sort-header","","disableClear","",4,"matHeaderCellDef"],["matColumnDef","created"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"],["type","success",3,"close"],["mat-header-cell",""],["mat-cell",""],[3,"id","img","src","subtitle"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fa","fa-upload"],[1,"fa","fa-download"],["mat-header-cell","","mat-sort-header","","disableClear",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"fa","fa-save"],[1,"fa","fa-cloud"],[1,"fa","fa-spinner"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.Xb(0,"div"),h.Lc(1,O,2,0,"div",0),h.Lc(2,M,2,1,"ngb-alert",1),h.Xb(3,"div"),h.Xb(4,"table",2),h.Vb(5,3),h.Lc(6,S,3,3,"th",4),h.Lc(7,x,2,1,"td",5),h.Ub(),h.Vb(8,6),h.Lc(9,L,3,3,"th",4),h.Lc(10,X,2,4,"td",5),h.Ub(),h.Vb(11,7),h.Lc(12,W,3,3,"th",4),h.Lc(13,j,15,7,"td",5),h.Ub(),h.Vb(14,8),h.Lc(15,R,3,3,"th",9),h.Lc(16,N,6,5,"td",5),h.Ub(),h.Vb(17,10),h.Lc(18,T,3,3,"th",9),h.Lc(19,z,3,4,"td",5),h.Ub(),h.Lc(20,V,1,0,"tr",11),h.Lc(21,G,1,0,"tr",12),h.Wb(),h.Wb(),h.Sb(22,"mat-paginator",13),h.Wb()),2&t&&(h.Db(1),h.uc("ngIf",e.isLoadingResults),h.Db(1),h.uc("ngIf",e.resultMessage),h.Db(2),h.uc("dataSource",e.data),h.Db(16),h.uc("matHeaderRowDef",e.displayedColumns),h.Db(1),h.uc("matRowDefColumns",e.displayedColumns),h.Db(1),h.uc("length",e.resultsLength)("pageSize",5))},directives:[i.m,w.j,s.a,w.c,w.e,w.b,w.g,w.i,r.a,C.a,y.b,w.d,w.a,_,D.c,D.d,D.a,s.b,i.o,i.p,w.f,w.h],pipes:[o.c,i.e],styles:["table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:320px;height:180px}"]}),t}(),J=function(){function t(t,e){this._httpClient=t,this.elementPerPage=e}return t.prototype.serialize=function(t){var e=new URLSearchParams;for(var n in t)t.hasOwnProperty(n)&&e.set(n,t[n]);return e},t.prototype.getClips=function(t,e,n,i){i.start=n*this.elementPerPage,i.count=(n+1)*this.elementPerPage;var o=this.serialize(i);return this._httpClient.get("/recorder/search?"+o)},t}(),$=[{path:"",component:H}],A=function(){function t(){}return t.\u0275mod=h.Pb({type:t}),t.\u0275inj=h.Ob({factory:function(e){return new(e||t)},imports:[[a.g.forChild($)],a.g]}),t}(),B=function(){function t(){}return t.\u0275mod=h.Pb({type:t}),t.\u0275inj=h.Ob({factory:function(e){return new(e||t)},imports:[[o.b,i.c,A,c.e,v.b,D.b,r.b,C.b,s.c,w.k,c.c,y.c]]}),t}()}}]);